<!DOCTYPE html>
<html lang="tr">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>HBRTRâ€¢ ANA SAYFA</title>
    <style>
      * {
        box-sizing: border-box;
        margin: 0;
        padding: 0;
      }
      body {
        font-family: "Segoe UI", Tahoma, Geneva, Verdana, sans-serif;
        background: linear-gradient(135deg, #a2d2ff, #ffafcc);
        min-height: 100vh;
        padding-bottom: 60px;
      }
      .navbar {
        z-index: 1;
        background: #0077b6;
        color: white;
        padding: 20px;
        text-align: center;
        font-size: 28px;
        font-weight: 700;
        box-shadow: 0 2px 10px rgba(0, 0, 0, 0.15);
        position: sticky;
        top: 0;
      }
      .search-box {
        max-width: 600px;
        margin: 20px auto;
        padding: 0 15px;
      }
      .search-box input {
        width: 100%;
        padding: 14px 20px;
        border-radius: 30px;
        border: none;
        font-size: 17px;
        outline: none;
        box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
        transition: box-shadow 0.3s ease;
      }
      .search-box input:focus {
        box-shadow: 0 2px 12px rgba(0, 0, 0, 0.25);
      }
      .kategori-buttons {
        display: flex;
        justify-content: center;
        flex-wrap: wrap;
        gap: 12px;
        margin: 20px auto 30px;
        max-width: 700px;
        padding: 0 10px;
      }
      .kategori-buttons button {
        background-color: #00b4d8;
        color: white;
        border: none;
        padding: 10px 22px;
        font-size: 15px;
        border-radius: 25px;
        cursor: pointer;
        font-weight: 600;
        transition: background-color 0.3s ease;
        box-shadow: 0 3px 6px rgba(0, 0, 0, 0.1);
      }
      .kategori-buttons button.active,
      .kategori-buttons button:hover {
        background-color: #0077b6;
        box-shadow: 0 5px 15px rgba(0, 119, 182, 0.4);
      }
      .container {
        max-width: 1200px;
        margin: 0 auto 80px;
        padding: 0 15px;
        display: grid;
        grid-template-columns: repeat(auto-fill, minmax(320px, 1fr));
        gap: 22px;
      }
      .haber-kart {
        background: white;
        border-radius: 18px;
        box-shadow: 0 8px 22px rgba(0, 0, 0, 0.07);
        overflow: hidden;
        display: flex;
        flex-direction: column;
        transition: transform 0.3s ease, box-shadow 0.3s ease;
        cursor: pointer;
      }
      .haber-kart:hover {
        transform: translateY(-8px);
        box-shadow: 0 15px 40px rgba(0, 0, 0, 0.12);
      }
      .haber-img {
        width: 100%;
        height: 180px;
        object-fit: cover;
        filter: brightness(95%);
        transition: filter 0.3s ease;
      }
      .haber-kart:hover .haber-img {
        filter: brightness(100%);
      }
      .haber-baslik {
        font-size: 20px;
        font-weight: 700;
        color: #023e8a;
        margin: 15px 20px 10px;
        flex-grow: 0;
      }
      .haber-tarih {
        font-size: 13px;
        color: #555;
        margin: 0 20px 10px;
        font-style: italic;
      }
      .haber-icerik {
        font-size: 15px;
        color: #333;
        margin: 0 20px 20px;
        flex-grow: 1;
        line-height: 1.4;
      }
      .canli-haber {
        position: fixed;
        bottom: 0;
        left: 0;
        right: 0;
        background: #03045e;
        color: #90e0ef;
        font-weight: 600;
        padding: 12px 0;
        font-size: 16px;
        white-space: nowrap;
        overflow: hidden;
        z-index: 1500;
        box-shadow: 0 -4px 8px rgba(0, 0, 0, 0.2);
      }
      .canli-haber span {
        display: inline-block;
        padding-left: 100%;
        animation: kayan 22s linear infinite;
      }
      @keyframes kayan {
        0% {
          transform: translateX(100%);
        }
        100% {
          transform: translateX(-100%);
        }
      }
      @media (max-width: 700px) {
        .haber-baslik {
          font-size: 18px;
        }
        .haber-icerik {
          font-size: 14px;
        }
        .search-box {
          max-width: 90%;
        }
        .kategori-buttons {
          max-width: 90%;
        }
      }
      .dropdown {
        position: fixed;
        display: fixed;
        top: 10px;
        right: 10px;
        z-index: 12;
      }
      .dropbtn {
        z-index: 104234;
        font-size: 24px;
        background: transparent;
        border: none;
        cursor: pointer;
      }
      .dropdown-content {
        display: none;
        z-index: 13332;
        position: absolute;
        right: 0;
        background-color: white;
        text-transform: none;
        text-decoration: none;
        
        min-width: 140px;
        box-shadow: 0px 8px 16px rgba(0, 0, 0, 0.2);

        border-radius: 6px;
      }
      .dropdown-content {
        display: none;
        color: black;
        border-radius: 10px;
         text-transform: none;
        text-decoration: none;
        padding: 10px 12px;
        text-decoration: none;
        border-bottom: 1px solid #ddd;
        
      }
      .dropdown-content a {
        color: black;
        margin-bottom: 10px;
        

        text-transform: capitalize;
        font-family: system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;
        text-decoration: none;
      }
      .dropdown-content a:hover {
        color: #0077b6;
      }
      .toggle {
        display: block !important;
      }
    </style>
  </head>
  <body>
    <!-- <h4 style="text-align: end; font-family: Verdana, Geneva, Tahoma, sans-serif; font-size: 12px; padding: 10px;" onclick="toggleMenÃ¼()">emre Ã§alÄ±ÅŸkan</h4> -->

    <div class="navbar">HBRTR</div>

    <div class="search-box">
      <input
        type="text"
        id="arama"
        placeholder="haberlerde ara"
        oninput="filtreleTxt()"
      />
    </div>

    <div class="kategori-buttons" id="katBtns">
      <button class="active" onclick="filtreKategori('')">TÃœMÃœ</button>
      <button onclick="filtreKategori('general')">GENEL</button>
      <button onclick="filtreKategori('sports')">SPOR</button>
      <button onclick="filtreKategori('technology')">TEKNOLOJÄ°Ä±</button>
      <button onclick="filtreKategori('business')">Ä°Åž</button>
    </div>

    <div class="container" id="haberContainer">
      <!-- Haber kartlarÄ± buraya gelecek -->
    </div>

    <div class="canli-haber">
      <span id="canliSpan"> Created by @_emrclskan</span>
    </div>
    <div class="dropdown">
      <button onclick="toggleMenÃ¼()" class="dropbtn">
        <svg
          xmlns="http://www.w3.org/2000/svg"
          width="18"
          height="18 "
          fill="white"
          class="bi bi-list"
          viewBox="0 0 16 16"
        >
          <path
            fill-rule="evenodd"
            d="M2.5 12a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5m0-4a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5m0-4a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5"
          />
        </svg>
      </button>
      <div id="dropdownMenÃ¼" class="dropdown-content">
        <a href="#">iletiÅŸim</a>
        <a href="hakkÄ±mÄ±zda.html">hakkÄ±mÄ±zda</a>
        <a href="https://www.instagram.com/_emrclskan/">geliÅŸtirici</a>
      </div>
    </div>

    <script>
      // Proxy ile Ã§alÄ±ÅŸan GNews API key (deneme amaÃ§lÄ±)
      const API_KEY = "ab6041639be4b428ba6441af26691a96";
      let allArticles = [];

      // Haberleri getir, kategori opsiyonel
      async function haberleriGetir(kategori = "") {
        // Proxy kullanÄ±lmadan direkt API Ã§aÄŸrÄ±sÄ± (CORS engeline takÄ±labilir)
        const url = `https://api.collectapi.com/news/getNews?country=tr&tag=general`;

        try {
          const res = await fetch(url, {
            method: "GET",
            withCredentials: true,
            headers: {
              authorization:
                "apikey 6FCl5dHYkzbsPAJtSoWDyw:1ocAb3iCII5BipztHEmNNl",
              "Content-Type": "application/json",
            },
          });
          const data = await res.json();
          console.log(data);

          // if (!data.result || data.result.length === 0) {
          //   document.getElementById("haberContainer").innerHTML =
          //     '<p style="text-align:center; padding: 40px 20px; font-size:18px; color:#444;">HiÃ§ haber bulunamadÄ± ðŸ˜”</p>';
          //   document.getElementById("canliSpan").textContent =
          //     "-- Haber yok --";
          //   return;
          // }

          allArticles = data.result;
          render();
          // showCanli(allArticles[0].title);
        } catch (error) {
          console.error("Haber API hatasÄ±:", error);
          document.getElementById("haberContainer").innerHTML =
            '<p style="text-align:center; padding: 40px 20px; font-size:18px; color:#d32f2f;">Haberler yÃ¼klenirken hata oluÅŸtu.</p>';
          document.getElementById("canliSpan").textContent =
            "-- Haber alÄ±namadÄ± --";
        }
      }
      haberleriGetir();

      // Haberleri DOM'a basar
      function render() {
        const container = document.getElementById("haberContainer");
        container.innerHTML = "";
        allArticles.forEach((article) => {
          container.innerHTML += `
          <div class="haber-kart">
            <img class="haber-img" src="${
              article.image ||
              "https://via.placeholder.com/400x180?text=Haber+Resmi"
            }" alt="Haber GÃ¶rseli" />
            <h2 class="haber-baslik">${article.name}</h2>
            <div class="haber-tarih">${new Date(
              article.publishedAt
            ).toLocaleString("tr-TR")}</div>
            <p class="haber-icerik">${article.description || ""}</p>
          </div>
        `;
        });
      }

      // Arama filtresi
      function filtreleTxt() {
        const val = document.getElementById("arama").value.toLowerCase();
        document.querySelectorAll(".haber-kart").forEach((kart) => {
          kart.style.display = kart.textContent.toLowerCase().includes(val)
            ? "flex"
            : "none";
        });
      }

      // Kategori filtreleme
      function filtreKategori(kategori) {
        document
          .querySelectorAll("#katBtns button")
          .forEach((btn) => btn.classList.remove("active"));
        event.target.classList.add("active");
        haberleriGetir(kategori);
      }

      function filtreleTxt() {
        const val = document.getElementById("arama").value.toLowerCase();
        document.querySelectorAll(".haber-kart").forEach((kart) => {
          kart.style.display = kart.textContent.toLowerCase().includes(val)
            ? "flex"
            : "none";
        });
      }
      function toggleMenÃ¼() {
        var menu = document.getElementById("dropdownMenÃ¼");
        menu.classList.toggle('toggle')
      }
    </script>
  </body>
</html>
